<nav class="navbar navbar-light">
  <div class="container-fluid d-flex flex-row justify-content-between">
    <!-- Logo -->
    <div class="col-3">
      <div class="d-flex flex-row">
        <div>
          <svg fill="black" height="max-content" width="50" id="Layer_1" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
          <path style="fill: #cb262c;" d="M391.428,8.404H120.572c-17.327,0-31.374,14.046-31.374,31.374v432.444c0,17.327,14.046,31.374,31.374,31.374h270.856c17.327,0,31.374-14.046,31.374-31.374V39.778C422.802,22.451,408.755,8.404,391.428,8.404z"/>
            <path style="fill: #3052a4;" d="M367.311,42.021H144.69c-12.081,0-21.875,9.793-21.875,21.875v384.21c0,12.081,9.794,21.875,21.875,21.875h222.621c12.081,0,21.875-9.793,21.875-21.875V63.895C389.185,51.814,379.391,42.021,367.311,42.021z"/>
            <path style="fill: white;" d="M276.738,365.281v-37.922c0,0,67.116,10.926,67.116-48.014s-87.855-110.412-87.855-110.412s-87.855,51.472-87.855,110.412s67.116,48.014,67.116,48.014v37.922H276.738z"/><path style="opacity:0.1;enable-background:new    ;" d="M156.432,472.222V39.778c0-17.327,14.046-31.374,31.374-31.374h-67.234c-17.327,0-31.374,14.046-31.374,31.374v432.444c0,17.327,14.046,31.374,31.374,31.374h67.234C170.479,503.596,156.432,489.549,156.432,472.222z"/><path d="M391.428,512H120.572c-21.933,0-39.778-17.844-39.778-39.778V39.778C80.794,17.844,98.639,0,120.572,0h40.558c4.643,0,8.404,3.763,8.404,8.404s-3.762,8.404-8.404,8.404h-40.558c-12.666,0-22.969,10.304-22.969,22.969v432.444c0,12.666,10.304,22.969,22.969,22.969h270.856c12.666,0,22.969-10.304,22.969-22.969V39.778c0-12.666-10.304-22.969-22.969-22.969H200.35c-4.643,0-8.404-3.763-8.404-8.404S195.707,0,200.35,0h191.078c21.933,0,39.778,17.844,39.778,39.778v432.444C431.206,494.156,413.361,512,391.428,512z"/><path d="M367.311,478.384h-23.578c-4.643,0-8.404-3.763-8.404-8.404s3.762-8.404,8.404-8.404h23.578c7.427,0,13.47-6.043,13.47-13.47V63.895c0-7.427-6.043-13.47-13.47-13.47H144.69c-7.427,0-13.47,6.043-13.47,13.47v384.21c0,7.427,6.043,13.47,13.47,13.47h165.426c4.643,0,8.404,3.763,8.404,8.404s-3.762,8.404-8.404,8.404H144.69c-16.695,0-30.279-13.582-30.279-30.279V63.895c0-16.695,13.582-30.279,30.279-30.279h222.621c16.695,0,30.279,13.582,30.279,30.279v384.21C397.589,464.802,384.006,478.384,367.311,478.384z"/><path d="M276.737,373.685h-41.473c-4.643,0-8.404-3.763-8.404-8.404v-28.783c-1.15,0.04-2.378,0.065-3.669,0.065c-10.648,0-26.076-1.646-39.102-9.487c-11.107-6.685-24.347-20.392-24.347-47.732c0-63.032,88.254-115.462,92.01-117.663c2.624-1.537,5.872-1.537,8.496,0c3.757,2.201,92.01,54.631,92.01,117.663c0,27.341-13.24,41.048-24.347,47.733c-13.027,7.839-28.455,9.486-39.102,9.486c-1.291,0-2.519-0.025-3.669-0.065v28.783C285.141,369.922,281.379,373.685,276.737,373.685z M243.668,356.876h24.666v-29.518c0-2.465,1.082-4.806,2.961-6.402c1.877-1.596,4.361-2.288,6.794-1.893c0.027,0.003,4.42,0.69,10.723,0.69c8.519,0,20.713-1.228,30.434-7.079c10.904-6.563,16.206-17.465,16.206-33.331c0-46.348-62.403-89.574-79.449-100.514c-17.039,10.936-79.449,54.163-79.449,100.514c0,15.864,5.3,26.767,16.206,33.33c9.721,5.852,21.916,7.08,30.434,7.08c6.305,0,10.695-0.686,10.738-0.693c2.433-0.388,4.914,0.31,6.784,1.907s2.956,3.931,2.956,6.391v29.517H243.668z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>
        </svg>
        </div>
        <div class="px-3">
          <span id="memoria" class="navbar-brand py-auto">MEMORIA</span>
        </div>
      </div>
    </div>
    <!-- Room ID -->
    <div class="col-3 navbar-brand d-flex justify-content-center">
      <span id="roomID" class="navbar-brand h1 my-0"><strong>Sala:</strong> {{roomID}}</span>
    </div>
    <!-- Exit room -->
    <ul class="col-3 navbar-nav">
      <li class="nav-item d-flex justify-content-end">
        <a id="exitLink" class="nav-link d-flex flex-row" [routerLink]="['/join']">
          <div><span class="pt-3 pb-0">Salir de la sala</span></div>
          <div>
            <svg class="svg-icon my-0" fill="white" height="max-content" width="50" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M170.666667 512a42.666667 42.666667 0 0 0 42.666666 42.666667h323.84l-98.133333 97.706666a42.666667 42.666667 0 0 0 0 60.586667 42.666667 42.666667 0 0 0 60.586667 0l170.666666-170.666667a42.666667 42.666667 0 0 0 8.96-14.08 42.666667 42.666667 0 0 0 0-32.426666 42.666667 42.666667 0 0 0-8.96-14.08l-170.666666-170.666667a42.666667 42.666667 0 1 0-60.586667 60.586667l98.133333 97.706666H213.333333a42.666667 42.666667 0 0 0-42.666666 42.666667zM725.333333 85.333333H298.666667a128 128 0 0 0-128 128v128a42.666667 42.666667 0 0 0 85.333333 0V213.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h426.666666a42.666667 42.666667 0 0 1 42.666667 42.666666v597.333334a42.666667 42.666667 0 0 1-42.666667 42.666666H298.666667a42.666667 42.666667 0 0 1-42.666667-42.666666v-128a42.666667 42.666667 0 0 0-85.333333 0v128a128 128 0 0 0 128 128h426.666666a128 128 0 0 0 128-128V213.333333a128 128 0 0 0-128-128z"  /></svg>
          </div>
        </a>
      </li>
    </ul>
  </div>
</nav>

<!-- Could not join -->
<div class="d-flex justify-content-center mt-5" *ngIf="!canAccess">
  <div class="col-4 alert alert-danger text-center" role="alert">
    {{errorMessage}}
  </div>
</div>
<div *ngIf="formGroup && !canAccess">
  <form [formGroup]="formGroup" class="d-flex justify-content-center" *ngIf="!roomIsFull">
    <div class="col-4">
      <!-- Nickname -->
      <div class="mb-3">
        <label for="nickname" class="form-label">Ingrese otro nickname:</label>
        <input type="text" formControlName="nickname" class="col-3 form-control" id="nickname" placeholder="Guest">
      </div>
      <div *ngIf="formGroup.get('nickname')">
        <div class="alert alert-warning" role="alert"
             *ngIf="formGroup.get('nickname')?.invalid &&
                  formGroup.get('nickname')?.touched &&
                  formGroup.get('nickname')?.dirty"
        >
        <span class="formWarning" *ngIf="formGroup.get('nickname')?.hasError('required')">
          Se requiere un Nickname para jugar
        </span>
        <span class="formWarning" *ngIf="formGroup.get('nickname')?.hasError('minlength')">
          El nickname debe tener 3 o más caracteres
        </span>
        <span class="formWarning" *ngIf="formGroup.get('nickname')?.hasError('maxlength')">
          El nickname no puede tener más de 15 caracteres
        </span>
        </div>
      </div>
      <!-- Play -->
      <div class="d-flex justify-content-center" *ngIf="formGroup">
        <button type="submit" class="btn btn-primary mb-3"
                [disabled]="formGroup.invalid || (currentPlayer!.nickname == formGroup.get('nickname')!.value)"
                (click)="registerNickname()"
        >
          Jugar
        </button>
      </div>
    </div>
  </form>
</div>

<!-- Game -->
<div class="container-fluid d-flex flex-row px-0" *ngIf="canAccess && !isOver" style="z-index: 1">
  <!-- Players List -->
  <div class="col-2">
    <h1 class="mx-3 my-3 text-center">
      Jugadores
    </h1>
    <!-- Players -->
    <ul class="list-group">
      <li *ngFor="let player of players;" class="list-group-item m-1" [class.currentTurn]="player.turn">
        <div class="my-2">
          <div id="turnLabel" *ngIf="player.turn">Turno de:</div>
          <div class="d-flex flex-wrap justify-content-between playerInfo">
            <div>{{player.nickname}}</div>
            <div>{{player.points}} pts</div>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <!-- Game Board -->
  <div class="col-10">
    <div class="d-flex flex-wrap justify-content-evenly">
      <app-card *ngFor="let card of cards; let i = index" class="m-0 m-xl-2 m-xxl-4"
                [cardInfo]="card"
                [cardIndex]="i"
      ></app-card>
    </div>
  </div>
</div>

<!-- Scoreboard -->
<div class="container-fluid d-flex flex-row px-0" *ngIf="isOver">
  <!-- Players List -->
  <div class="col-12">
    <h1 id="scoreBoard" class="mx-3 mt-5 mb-3 text-center">
      Marcador
    </h1>
    <!-- Players -->
    <div class="d-flex justify-content-center">
      <ul class="col-8 col-xxl-4 list-group">
        <li *ngFor="let player of sortedPlayers;" class="list-group-item  m-1">
          <div class="my-2">
            <div class="d-flex flex-wrap justify-content-between playerInfo">
              <div>{{player.nickname}}</div>
              <div>{{player.points}} pts</div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
